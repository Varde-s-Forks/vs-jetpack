from typing import ClassVar, Sequence

from ._abstract import EdgeDetect, MagnitudeMatrix, Max

__all__ = ["SuperExKirsch"]


class Matrix7x7(EdgeDetect):
    """
    Abstract base class for 7x7 convolution-based edge detectors.
    """


class SuperExKirsch(Matrix7x7, MagnitudeMatrix, Max):
    """
    Super extended Russell Kirsch compass operator. 7x7 matrices.
    """

    matrices: ClassVar[Sequence[Sequence[float]]] = [
        [
            13, 13, 13, 13, 13, 13, 13,
            13, 9, 9, 9, 9, 9, 13,
            13, 9, 5, 5, 5, 9, 13,
            -11, -7, -3, 0, -3, -7, -11,
            -11, -7, -3, -3, -3, -7, -11,
            -11, -7, -7, -7, -7, -7, -11,
            -11, -11, -11, -11, -11, -11, -11
        ],  # N
        [
            13, 13, 13, 13, 13, 13, -11,
            13,  9,  9,  9,  9, -7, -11,
            13,  9,  5,  5, -3, -7, -11,
            13,  9,  5,  0, -3, -7, -11,
            13,  9, -3, -3, -3, -7, -11,
            13, -7, -7, -7, -7, -7, -11,
            -11,-11,-11,-11,-11,-11,-11,
        ],  # NW
        [
            13, 13, 13, -11, -11, -11, -11,
            13, 9, 9, -7, -7, -7, -11,
            13, 9, 5, -3, -3, -7, -11,
            13, 9, 5, 0, -3, -7, -11,
            13, 9, 5, -3, -3, -7, -11,
            13, 9, 9, -7, -7, -7, -11,
            13, 13, 13, -11, -11, -11, -11
        ],  # W
        [
            -11, -11, -11, -11, -11, -11, -11,
            13, -7, -7, -7, -7, -7, -11,
            13, 9, -3, -3, -3, -7, -11,
            13, 9, 5, 0, -3, -7, -11,
            13, 9, 5, 5, -3, -7, -11,
            13, 9, 9, 9, 9, -7, -11,
            13, 13, 13, 13, 13, 13, -11
        ],  # SW
        [
            -11, -11, -11, -11, -11, -11, -11,
            -11, -7, -7, -7, -7, -7, -11,
            -11, -7, -3, -3, -3, -7, -11,
            -11, -7, -3, 0, -3, -7, -11,
            13, 9, 5, 5, 5, 9, 13,
            13, 9, 9, 9, 9, 9, 13,
            13, 13, 13, 13, 13, 13, 13
        ],  # S
        [
            -11, -11, -11, -11, -11, -11, -11,
            -11, -7, -7, -7, -7, -7, 13,
            -11, -7, -3, -3, -3, 9, 13,
            -11, -7, -3, 0, 5, 9, 13,
            -11, -7, -3, 5, 5, 9, 13,
            -11, -7, 9, 9, 9, 9, 13,
            -11, 13, 13, 13, 13, 13, 13,
        ],  #SE
        [
            -11, -11, -11, -11, 13, 13, 13,
            -11, -7, -7, -7, 9, 9, 13,
            -11, -7, -3, -3, 5, 9, 13,
            -11, -7, -3, 0, 5, 9, 13,
            -11, -7, -3, -3, 5, 9, 13,
            -11, -7, -7, -7, 9, 9, 13,
            -11, -11, -11, -11, 13, 13, 13
        ],  # E
        [
            -11, 13, 13, 13, 13, 13, 13,
            -11, -7, 9, 9, 9, 9, 13,
            -11, -7, -3, 5, 5, 9, 13,
            -11, -7, -3, 0, 5, 9, 13,
            -11, -7, -3, -3, -3, 9, 13,
            -11, -7, -7, -7, -7, -7, 13,
            -11, -11, -11, -11, -11, -11, -11,
        ]  # NE
    ]  # fmt: skip
